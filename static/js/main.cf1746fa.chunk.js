(this["webpackJsonpfirst-app"]=this["webpackJsonpfirst-app"]||[]).push([[0],{11:function(e,t,o){e.exports=o(21)},16:function(e,t,o){},21:function(e,t,o){"use strict";o.r(t);var n=o(0),a=o.n(n),r=o(8),i=o.n(r),c=o(5),l=o(1),s=o(2),d=o(4),u=o(3),p=(o(16),o(6)),f=o(10),m=o.n(f),h=function(e){Object(d.a)(o,e);var t=Object(u.a)(o);function o(){var e;Object(l.a)(this,o);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).showTime=function(e){if(e)return m()(e).fromNow()},e.notificationBell=function(t,o){if(!t)return a.a.createElement("button",{className:"reminder",onClick:e.props.openDialogue.bind(Object(p.a)(e),o)},a.a.createElement("i",{className:"fa fa-bell fs-19 text-primary"}))},e}return Object(s.a)(o,[{key:"render",value:function(){var e=this.props.todo,t=e.id,o=e.title,n=e.completed,r=e.end;return a.a.createElement("li",null," ",o,a.a.createElement("span",null,this.showTime(r)),a.a.createElement("div",{className:"buttons"},a.a.createElement("button",{className:"remove",onClick:this.props.delTodo.bind(this,t)},a.a.createElement("i",{className:"fa fa-trash fs-19 text-danger"})),a.a.createElement("button",{className:"complete",onClick:this.props.toggleCompleted.bind(this,t)},a.a.createElement("i",{className:"fa fa-check fs-19 text-success"})),this.notificationBell(n,t)))}}]),o}(n.Component),g=function(e){Object(d.a)(o,e);var t=Object(u.a)(o);function o(){return Object(l.a)(this,o),t.apply(this,arguments)}return Object(s.a)(o,[{key:"render",value:function(){var e=this;return this.props.todos.map((function(t){return a.a.createElement(h,{key:t.id,todo:t,delTodo:e.props.delTodo,openDialogue:e.props.openDialogue,toggleCompleted:e.props.toggleCompleted})}))}}]),o}(a.a.Component),v=o(7),b=o.n(v),k=(o(20),function(e){Object(d.a)(o,e);var t=Object(u.a)(o);function o(){var e;return Object(l.a)(this,o),(e=t.call(this)).state={task:""},e.onChange=function(t){return e.setState({task:t.target.value})},e.onSubmit=function(t){if(t.preventDefault(),""===e.state.task)return b.a.options={positionClass:"toast-bottom-left"},b.a.error("Please provide a task. The task cannot be empty","Ooops!"),void e.input.current.focus();e.props.addTodo(e.state.task),e.setState({task:""})},e.input=a.a.createRef(),e}return Object(s.a)(o,[{key:"render",value:function(){return a.a.createElement(n.Fragment,null,a.a.createElement("header",null,a.a.createElement("form",{onSubmit:this.onSubmit},a.a.createElement("input",{type:"text",autoFocus:!0,autoComplete:"off",placeholder:"Enter an activity...",id:"item",name:"todo_item",onChange:this.onChange,value:this.state.task,ref:this.input,"aria-label":"Type a task"}),a.a.createElement("button",{id:"add",type:"submit","aria-label":"Add a task"},a.a.createElement("i",{className:"fa fa-plus text-white fs-19"})))))}}]),o}(n.Component)),E=o(23),w=Object(n.lazy)((function(){return Promise.all([o.e(2),o.e(4)]).then(o.bind(null,102))})),O=function(e){Object(d.a)(o,e);var t=Object(u.a)(o);function o(){var e;Object(l.a)(this,o);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={todos:[],completed:[],open:!1,task_id:""},e.openDialogue=function(t){e.setState({open:!0,task_id:t})},e.handleClose=function(){e.setState({open:!1})},e.updateLocalStorage=function(){var t=e.state,o=t.todos,n=t.completed;localStorage.setItem("todoList",JSON.stringify({todos:o,completed:n}))},e.delTodo=function(t){var o=e.state,n=o.todos,a=o.completed;e.setState({todos:Object(c.a)(n.filter((function(e){return e.id!==t}))),completed:Object(c.a)(a.filter((function(e){return e.id!==t})))},(function(){return e.updateLocalStorage()}))},e.addTodo=function(t){var o={id:Object(E.a)(),title:t,completed:!1};e.setState({todos:[o].concat(Object(c.a)(e.state.todos))},(function(){return e.updateLocalStorage()}))},e.setReminder=function(t){var o=e.state,n=o.open,a=o.task_id,r=o.todos;n&&a&&e.setState({todos:r.map((function(e){return e.id===a&&(e.end=t),e}))},(function(){return e.updateLocalStorage()})),e.handleClose()},e.toggleCompleted=function(t){var o=e.state,n=o.todos,a=o.completed,r=0===a.filter((function(e){return e.id===t})).length?n.filter((function(e){return e.id===t})):a.filter((function(e){return e.id===t}));(r=r[0])&&r.completed?(r.completed=!1,e.setState({todos:[].concat(Object(c.a)(n),[r]),completed:Object(c.a)(a.filter((function(e){return e.id!==t})))},(function(){return e.updateLocalStorage()}))):(r.completed=!0,e.setState({todos:Object(c.a)(n.filter((function(e){return e.id!==t}))),completed:[].concat(Object(c.a)(a),[r])},(function(){return e.updateLocalStorage()})))},e}return Object(s.a)(o,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("todoList")?JSON.parse(localStorage.getItem("todoList")):{todos:[],completed:[]},t=e.todos,o=e.completed;t||(t=[]),o||(o=[]),this.setState({todos:t,completed:o})}},{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(k,{addTodo:this.addTodo}),a.a.createElement("div",{className:"container"},a.a.createElement("ul",{className:"todo",id:"todo"},a.a.createElement(g,{todos:this.state.todos,delTodo:this.delTodo,toggleCompleted:this.toggleCompleted,openDialogue:this.openDialogue})),a.a.createElement("ul",{className:"todo",id:"completed"},a.a.createElement(g,{todos:this.state.completed,delTodo:this.delTodo,toggleCompleted:this.toggleCompleted}))),a.a.createElement(n.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(w,{handleClose:this.handleClose,open:this.state.open,setReminder:this.setReminder})))}}]),o}(a.a.Component),S=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function j(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var o=e.installing;null!=o&&(o.onstatechange=function(){"installed"===o.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(O,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");S?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(o){var n=o.headers.get("content-type");404===o.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):j(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):j(t,e)}))}}()}},[[11,1,3]]]);
//# sourceMappingURL=main.cf1746fa.chunk.js.map